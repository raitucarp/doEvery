{
  "name": "doEvery",
  "description": "Extends setInterval, create more powerful task management (worker, jobs) with custom interval",
  "version": "0.0.1",
  "author": {
    "name": "Ribhararnus Pracutiar",
    "email": "ribhararnus.pracutiar@gmail.com"
  },
  "contributors": [
    {
      "name": "Ribhararnus Pracutiar",
      "email": "ribhararnus.pracutiar@gmail.com"
    }
  ],
  "keywords": [
    "interval",
    "setInterval",
    "worker",
    "task",
    "utility"
  ],
  "repository": {
    "type": "git",
    "url": "git://github.com/raitucarp/doEvery.git"
  },
  "dependencies": {
   "wtn": "*"
  },
  "main": "index",
  "engines": {
    "node": "*"
  },
  "readme": "# What is doEvery?\r\n**doEvery** is node.js module that extends setInterval, create more powerful task management (worker, jobs) with custom interval\r\n\r\n# Installation\r\n> npm install doEvery\r\n\r\n# Example\r\n    var doEvery = require('doEvery');\r\n    \r\n    var task = new doEvery('two seconds'); /* You can pass integer as first argument */\r\n    \r\n    /* set the limit, you can set other option by using .set(name, value) */\r\n    task.set('limit', 30);\r\n    \r\n    /* start task */\r\n    task.start();\r\n    \r\n    /* listen on hit event */\r\n    task.on('hit', function (n, elapsedTime) {\r\n      console.log('hit: ' + n + ', elapsedTime: ' + elapsedTime);\r\n    });\r\n    \r\n    /* run special task when hit n */\r\n    task.hit(2, function () {\r\n      var version = task.getVersion();\r\n      /* check whether task version is 3 or not, after restart, task version do increment its value automatically  */\r\n      if (version === 3) {\r\n    console.log(\"Task version is 3, I should stop these processes\");\r\n    /* or you can run your code here */\r\n    task.stop();\r\n      } else {\r\n    console.log('because task version < 3. this is subtask of 2nd hit');\r\n    task.pause();\r\n      }\r\n    });\r\n    \r\n    task.hit(5, function (intervalId) {\r\n      console.log('this is subtask of 5th hit');\r\n    });\r\n    \r\n    task.hit(10, function (intervalId) {\r\n      console.log('Restart task. After restart, task version will be v' + parseInt(task.getVersion() + 1, 10));\r\n      task.restart();\r\n    });\r\n    \r\n    /* run code when tick reach 10 */\r\n    task.tick(10, function () {\r\n      console.log('his is 10th tick, and ....');\r\n      task.resume();\r\n    });\r\n    \r\n    /* listen on tick event */\r\n    task.on('tick', function (n, elapsedTime) {\r\n      console.log('tick: ' + n + ', elapsedTime: ' + elapsedTime);\r\n    });\r\n    \r\n    /* Start, restart, end event */\r\n    \r\n    task.on('start', function () {\r\n      console.log(\"START\");\r\n      console.log(\"task version: v\" + task.getVersion());\r\n    });\r\n    \r\n    task.on('pause', function () {\r\n      console.log('pause task');\r\n    });\r\n    \r\n    task.on('resume', function () {\r\n      console.log('resume the process');\r\n    });\r\n    \r\n    task.on('restart', function () {\r\n      console.log('please wait restart process');\r\n    });\r\n    \r\n    task.on('end', function () {\r\n      console.log('task end');\r\n    });\r\n\r\n# Documentation\r\n\r\n## Initialization ##\r\n### var task = new doEvery(timing, [shellCommand]) ###\r\n\r\nYou can create new task with very simple init script: \r\n\r\n    var doEvery = require('doEvery');\r\n    var task = new doEvery('two seconds');\r\n\r\ndoEvery takes two arguments, first argument is timing options in string (because I use wtn module to parse words to number, you can read the topic [http://github.com/raitucarp/wtn](http://github.com/raitucarp/wtn)), but you can also pass integer to it. Second argument is shellCommand, if you want run shell command.\r\n\r\nIf you pass string as first argument, you can additional time separate by comma:\r\n\r\n    var task = new doEvery('two weeks, three days, eight hours');\r\n\r\n## Method list #Task ##\r\n\r\n### task.pause() ###\r\n\r\nPause current repeating task. However tick still running\r\n\r\n### task.resume() ###\r\n\r\nResume current task, after you pause the task.\r\n\r\n### task.restart() ####\r\n\r\nRestart task, it will increase version number of current task.\r\n\r\n### task.getVersion() ###\r\n\r\nGet version of your current task. Version number is task version based on how much you restarting the task. It automatically will increase its value after you restart the task. [task.restart()] \r\n\r\n### task.hit(n, callback) ###\r\n\r\nYou can create subtask when hit reach **n** number. Example:\r\n\r\n    task.hit(19, function(){\r\n        /* this code will be running on 19th tick, \r\n           if your task is run every three seconds, \r\n           this code run after 19 x 3 = 57 seconds,\r\n           However, when you pause the task before it hits 19\r\n           this code will not run, unless you resume it \r\n        */\r\n        console.log('19th hit cool');\r\n    });\r\n\r\nNote that, hit is the main process of your task. You can pause, and resume it. It's differ with tick (which is always running, you can't pause nor resume it) \r\n\r\n### task.tick(n, callback) ###\r\n\r\nTick is a special. Tick always running, you can't pause it, resume it. But when you restart your task, the counter will be restart as normal as hit\r\n\r\n    task.tick(30, function(){\r\n      /* if your task is every two seconds, tick always running every two seconds, and when it reach 30 tick (60 seconds), this code will running */\r\n      console.log('awesome 30th tick');\r\n    });\r\n\r\n## Event Listener ##\r\n### task.on(type, callback) ###\r\n\r\n\r\nThere are basic type of event listener, callback has no returns data : \r\n\r\n#### start ####\r\nListening when task is starting\r\n\r\n    task.on('start', function(){\r\n      /* your code here  */ \r\n    });\r\n\r\n    \r\n#### pause ####\r\nListening when pause the task:\r\n\r\n    task.hit(5, function(){\r\n      task.pause();\r\n    });\r\n\r\n    task.on('pause', function(){\r\n       /* your code here */\r\n    });\r\n\r\n\r\n#### resume ####\r\n\r\nListening when  resume the task;\r\n\r\n    task.tick(10, function(){\r\n      task.resume();\r\n    });\r\n    \r\n    task.on('resume', function(){\r\n       console.log('resume the process');\r\n    });\r\n\r\n#### stop ####\r\n\r\nListening when you stop your task:\r\n\r\n    task.hit(10, function(){\r\n      task.stop();\r\n    });\r\n    \r\n    task.on('stop', function(){\r\n      console.log('STOP NOW!!!');\r\n    });\r\n\r\n#### restart ####\r\n\r\nListening when you restarting your task:\r\n\r\n    task.hit(16, function(){\r\n      task.restart();\r\n    });\r\n    \r\n    task.on('restart', function(){\r\n      console.log('restarting the task');\r\n    });\r\n    \r\n\r\n**Special listeners**\r\n\r\n#### hit ####\r\nRun your code when interval hit your task. Suppose you have two seconds of task. You can run task every two seconds.\r\n\r\nCallback returning two data, first it's n hits, second: elapsed time in ms, it will tell you the benchmark when you run sub task, and previous task\r\n\r\n    task.hit(20, function(){\r\n      /* do heavy code here */\r\n    });\r\n    \r\n    task.on('hit', function(n, elapsedTime){\r\n       console.log('this is ' + n + 'th hit, and take: ' + elapsedTime + 'ms');\r\n    });\r\n    \r\nNotice that if you pause your task, hit listener will not run the callback. Unless you resume it. \r\n\r\n#### tick ####\r\nListening every tick. Suppose you have task that runs every 30 minutes. Every 30 minutes. You can't pause this listener.\r\n\r\n    task.on('tick', function(n, elapsedTime){\r\n      console.log('awesome tick : ' + n + ', elapsedTime: '+ elapsedTime);\r\n    });\r\n\r\n\r\n## License ##\r\nThe MIT License (MIT)\r\n\r\nCopyright (c) 2013 <ribhararnus.pracutiar@gmail.com>\r\n\r\nPermission is hereby granted, free of charge, to any person obtaining a copy\r\nof this software and associated documentation files (the \"Software\"), to deal\r\nin the Software without restriction, including without limitation the rights\r\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\ncopies of the Software, and to permit persons to whom the Software is\r\nfurnished to do so, subject to the following conditions:\r\n\r\nThe above copyright notice and this permission notice shall be included in\r\nall copies or substantial portions of the Software.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\r\nTHE SOFTWARE.",
  "readmeFilename": "Readme.md",
  "_id": "doEvery@0.0.1"
}